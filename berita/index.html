<!DOCTYPE html>

<html lang="id">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Berita &amp; Kegiatan IKSASS | Ikatan Santri Alumni Salafiyah Syafi’iyah</title>
<meta content="Berita dan dokumentasi kegiatan IKSASS sebagai bagian dari khidmah santri dan alumni bersama pesantren." name="description"/>
<meta content="index, follow" name="robots"/>
<meta content="#0f6b3d" name="theme-color"/>
<link href="../assets/img/logo-iksass.png" rel="icon"/>
<link href="../assets/img/logo-iksass.png" rel="apple-touch-icon"/>
<!-- Social preview (Open Graph / Twitter) -->
<meta content="website" property="og:type"/>
<meta content="IKSASS" property="og:site_name"/>
<meta content="Berita &amp; Kegiatan IKSASS" property="og:title"/>
<meta content="Informasi dan dokumentasi kegiatan IKSASS dalam merawat khidmah santri dan alumni." property="og:description"/>
<meta content="https://dibawahnaunganiksass.github.io/assets/img/og-iksass.jpg" property="og:image"/>
<meta content="https://dibawahnaunganiksass.github.io/berita/" property="og:url"/>
<meta content="1200" property="og:image:width"/>
<meta content="630" property="og:image:height"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="Berita — IKSASS" name="twitter:title"/>
<meta content="index, follow" name="twitter:description"/>
<meta content="https://dibawahnaunganiksass.github.io/assets/img/og-iksass.jpg" name="twitter:image"/>
<link as="style" href="../assets/css/main.min.css" rel="preload"/><link href="../assets/css/main.min.css" rel="stylesheet"/>
<link as="style" href="../assets/css/design-system.min.css" rel="preload"/><link href="../assets/css/design-system.min.css" rel="stylesheet"/>
<link href="../assets/css/news-premium.min.css" rel="stylesheet"/>
<link href="../assets/css/override.min.css?v=v37" rel="stylesheet"/>
<script defer="" src="../assets/js/meta-url.min.js"></script>
<link href="/assets/img/favicon.ico" rel="icon"/><link href="/assets/img/apple-touch-icon.png" rel="apple-touch-icon"/><meta content="id_ID" property="og:locale"/><style>/* Progressive enhancement for news listing */
.page-berita .news-loading{padding:14px;color:var(--muted)}
.page-berita .news-error{padding:14px;color:var(--muted)}
</style><!-- SEO:BEGIN -->
<meta name="description" content="Informasi resmi IKSASS — Berita &amp;amp; Kegiatan IKSASS | Ikatan Santri Alumni Salafiyah Syafi’iyah.">
<meta name="robots" content="index,follow">
<meta name="theme-color" content="#0b3a2e">

<script type="application/ld+json">{"@context": "https://schema.org", "@graph": [{"@type": "Organization", "@id": "https://dibawahnaunganiksass.github.io/#organization", "name": "IKSASS", "url": "https://dibawahnaunganiksass.github.io", "logo": {"@type": "ImageObject", "url": "https://dibawahnaunganiksass.github.io/assets/img/logo-iksass.png"}}, {"@type": "WebSite", "@id": "https://dibawahnaunganiksass.github.io/#website", "url": "https://dibawahnaunganiksass.github.io", "name": "IKSASS", "publisher": {"@id": "https://dibawahnaunganiksass.github.io/#organization"}}, {"@type": "WebPage", "@id": "https://dibawahnaunganiksass.github.io/berita//#webpage", "url": "https://dibawahnaunganiksass.github.io/berita//", "name": "Berita &amp; Kegiatan IKSASS | Ikatan Santri Alumni Salafiyah Syafi’iyah", "isPartOf": {"@id": "https://dibawahnaunganiksass.github.io/#website"}, "about": {"@id": "https://dibawahnaunganiksass.github.io/#organization"}}]}</script>
<!-- SEO:END -->

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Beranda",
      "item": "https://dibawahnaunganiksass.github.io/"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Berita",
      "item": "https://dibawahnaunganiksass.github.io/berita/"
    }
  ]
}
</script>
<link rel="canonical" href="https://dibawahnaunganiksass.github.io/berita/">
<link rel="manifest" href="/site.webmanifest">
</head>
<body class="page-berita">
<div data-include="header"></div>
<section class="news-hero">
<div class="container"><div class="breadcrumb">Berita</div>
<h1 class="page-title">Berita IKSASS</h1>
<p class="page-sub">Informasi, agenda, dan kegiatan terbaru IKSASS.</p>
</div>
</section>
<main class="page-content" id="konten" tabindex="-1">
<div class="container">
<div class="news-listing" data-news-list="">
<div class="news-grid"><div aria-hidden="true" class="news-loading">Memuat berita…</div></div><noscript><p>Aktifkan JavaScript untuk memuat daftar berita terbaru.</p></noscript>
</div>
</div>
</main>
<div data-include="footer"></div>
<script>
(function(){
  const grid = document.querySelector('.news-grid');
  if(!grid) return;

  const fmtDate = (iso) => {
    if(!iso) return '';
    const d = new Date(iso + 'T00:00:00');
    if(Number.isNaN(d.getTime())) return iso;
    return new Intl.DateTimeFormat('id-ID', { day:'2-digit', month:'long', year:'numeric' }).format(d);
  };

  const escapeText = (s) => (s ?? '').toString();

  fetch('./news-index.json', { cache: 'no-store' })
    .then(r => {
      if(!r.ok) throw new Error('Gagal memuat indeks berita');
      return r.json();
    })
    .then(items => {
      if(!Array.isArray(items)) throw new Error('Format indeks berita tidak valid');

      // sort terbaru di atas (date_iso desc). fallback ke popular_score jika date sama/empty.
      items.sort((a,b) => {
        const da = (a.date_iso || '');
        const db = (b.date_iso || '');
        if(db !== da) return db.localeCompare(da);
        return (b.popular_score || 0) - (a.popular_score || 0);
      });

      const frag = document.createDocumentFragment();

      items.forEach(item => {
        const slug = escapeText(item.slug).trim();
        const title = escapeText(item.title).trim();
        if(!slug || !title) return;

        const href = `./${slug}/`;
        const imgSrc = escapeText(item.image).trim() || '/assets/img/og-default.png';
        const excerpt = escapeText(item.excerpt).trim();
        const loc = escapeText(item.location).trim();
        const dateText = fmtDate(escapeText(item.date_iso).trim());
        const meta = (loc && dateText) ? `${loc} • ${dateText}` : (loc || dateText || '');

        const a = document.createElement('a');
        a.className = 'news-card';
        a.href = href;

        const thumb = document.createElement('div');
        thumb.className = 'news-thumb';

        const img = document.createElement('img');
        img.loading = 'lazy';
        img.decoding = 'async';
        img.src = imgSrc;
        img.alt = title;
        thumb.appendChild(img);

        const body = document.createElement('div');
        body.className = 'news-body';

        const h3 = document.createElement('h3');
        h3.className = 'news-title';
        h3.textContent = title;

        const metaDiv = document.createElement('div');
        metaDiv.className = 'news-meta';
        metaDiv.textContent = meta;

        const p = document.createElement('p');
        p.className = 'news-snippet';
        p.textContent = excerpt;

        body.appendChild(h3);
        if(meta) body.appendChild(metaDiv);
        if(excerpt) body.appendChild(p);

        a.appendChild(thumb);
        a.appendChild(body);

        frag.appendChild(a);
      });

      grid.innerHTML = '';
      grid.appendChild(frag);
    })
    .catch(() => {
      grid.innerHTML = '<p class="news-error">Daftar berita tidak dapat dimuat saat ini.</p>';
    });
})();
</script>
<script defer="defer" src="../assets/js/partials.min.js"></script>
</body>
</html>
