/* IKSASS Design System (Locked)
   - Tokens: typography scale, spacing scale, radius, shadows
   - Components: page header, buttons, cards, focus ring
   Load AFTER main.css to enforce consistency.
*/

:root{
  /* Typography */
  --font-base: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,
    "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif,
    "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

  --text-2xs: 12px;
  --text-xs: 13px;
  --text-sm: 14px;
  --text-base: 16px;
  --text-lg: 18px;
  --text-xl: 20px;
  --text-2xl: 24px;
  --text-3xl: 32px;

  --lh-tight: 1.2;
  --lh-normal: 1.6;
  --lh-relaxed: 1.75;

  /* Spacing scale (8px system) */
  --space-0: 0px;
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-8: 32px;
  --space-10: 40px;
  --space-12: 48px;
  --space-16: 64px;

  /* Semantic spacing */
  --card-gap: var(--space-6);
  --card-gap-sm: var(--space-4);
  --card-pad: var(--space-5);
  --card-pad-sm: var(--space-4);

  /* Radius */
  --radius-sm: 10px;
  --radius-md: 14px;
  --radius-lg: 18px;

  /* Shadow */
  --shadow-sm: 0 4px 14px rgba(17,24,39,.06);
  --shadow-md: 0 8px 30px rgba(17,24,39,.08);

  /* Focus ring */
  --focus-ring: 0 0 0 4px rgba(15,122,60,.18);
}

/* Enforce base font */
body{ font-family: var(--font-base); }

/* ===== Page Header Standard ===== */
main#konten.page{ padding: var(--space-6) 0; }
.breadcrumb{
  font-size: var(--text-sm);
  color: var(--muted);
  margin: 0 0 var(--space-2);
}
.page-title{
  font-size: var(--text-3xl);
  line-height: var(--lh-tight);
  margin: 0 0 var(--space-2);
  letter-spacing: -.2px;
}
.page-sub{
  font-size: var(--text-base);
  color: var(--muted);
  margin: 0 0 var(--space-6);
  max-width: 72ch;
}
@media (max-width: 720px){
  .page-title{ font-size: 26px; }
  .page-sub{ margin-bottom: var(--space-5); }
}

/* ===== Buttons (locked sizes) ===== */
.btn{
  min-height: 44px;
  padding: 12px 14px;
  border-radius: var(--radius-md);
}
.btn.sm{ min-height: 38px; padding: 10px 12px; font-size: var(--text-xs); }
.btn:focus-visible{ outline: none; box-shadow: var(--focus-ring); }
a.btn{ display:inline-flex; align-items:center; justify-content:center; gap:10px; }

/* Equal-width patterns in common action rows */
.btn-row .btn, .actions .btn, .mh-actions .btn, .yel-actions .btn{ min-width: 180px; }
@media (max-width: 720px){
  .btn-row, .actions, .mh-actions, .yel-actions{ display:flex; flex-wrap:wrap; gap:10px; }
  .btn-row .btn, .actions .btn, .mh-actions .btn, .yel-actions .btn{ min-width: 0; flex:1; }
}

/* ===== Cards ===== */
.card, .panel, .box, .yel-card, .mh-card{ border-radius: var(--radius-md); }
.card:hover, .panel:hover, .yel-card:hover, .mh-card:hover{ box-shadow: var(--shadow-sm); }

/* ===== Typography inside content ===== */
.content-text, .prose, .text-content{
  font-size: var(--text-base);
  line-height: var(--lh-relaxed);
}
.content-text h2, .prose h2, .text-content h2{
  font-size: var(--text-2xl);
  line-height: var(--lh-tight);
  margin: var(--space-8) 0 var(--space-3);
}
.content-text h3, .prose h3, .text-content h3{
  font-size: var(--text-lg);
  margin: var(--space-6) 0 var(--space-2);
}
.content-text p, .prose p, .text-content p{ margin: 0 0 var(--space-3); }

/* ===== Yel-yel cards typography lock ===== */
.yel-card h3{ font-size: var(--text-lg); font-weight: 600; }
.yel-card p{ font-size: var(--text-base); line-height: var(--lh-relaxed); }

/* ===== Accessibility helpers ===== */
:focus-visible{ scroll-margin-top: 90px; }


/* ===== 360px Edge-case Hardening (Full-site) ===== */
html, body{ overflow-x:hidden; }

@media (max-width: 380px){
  :root{ --container-pad: 14px; }

  .page-title{ font-size: 24px; }
  .page-sub{ font-size: 15px; }
  .breadcrumb{ font-size: 13px; }

  /* Make action rows truly tappable and avoid overflow */
  .btn-row, .actions, .mh-actions, .yel-actions{
    flex-direction:column;
    align-items:stretch;
  }
  .btn-row .btn, .actions .btn, .mh-actions .btn, .yel-actions .btn{
    width:100%;
  }

  /* Media / long content safety */
  img, svg, video, canvas{ max-width:100%; height:auto; }
  pre, code{ white-space: pre-wrap; word-break: break-word; }
  table{ display:block; max-width:100%; overflow-x:auto; -webkit-overflow-scrolling: touch; }

  /* Reduce risk of flex/grid overflow */
  *{ min-width: 0; }
  .card, .panel, .box{ max-width: 100%; }

  /* Common grids that can overflow due to min widths */
  .bbmtb-grid{ grid-template-columns: 1fr !important; }

  /* Table-like grids: stack on tiny screens */
  .table .tr{ grid-template-columns: 1fr !important; row-gap: 8px; }
  .table .td{ justify-content: flex-start; }

  /* Mars & Hymne: keep tab row and controls readable */
  .page-mh .tabrow{ padding: 10px; gap: 8px; }
  .page-mh .tabrow .tabbar{ width:100%; }
  .page-mh .tabrow .mh-fullscreen{ width:100%; }
  .page-mh .mh-tab{ flex: 1 1 calc(50% - 8px); }
}


/* Prinsip Perjuangan: definition list typography lock */
.pillar-card .kv{ margin: 0; padding: 0; }
.pillar-card .kv-row{ display: grid; grid-template-columns: 1fr 1fr; column-gap: var(--space-4,16px); row-gap: 6px; padding: 10px 0; }
.pillar-card .kv-row + .kv-row{ border-top: 1px solid rgba(15,118,110,.12); }
.pillar-card .kv dt,
.pillar-card .kv dd{ margin: 0; font-size: 1rem; line-height: 1.7; }
.pillar-card .kv dt{ font-weight: 600; letter-spacing: .1px; }
.pillar-card .kv dd{ font-weight: 400; color: var(--text-muted, #4b5563); }

@media (max-width: 480px){
  .pillar-card .kv-row{ grid-template-columns: 1fr; }
  .pillar-card .kv dd{ padding-top: 2px; }
}
